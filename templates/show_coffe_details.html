{% from "bootstrap5/form.html" import render_form %}
{% include "header.html" %}









<!-- Coffee Features -->
<article>

  

<div class="container px-4 py-5" id="icon-grid">

   <!-- Coffee list Header-->
  <div class="card py-5" style="width: 67rem;">
    <img src="{{selected_coffee.img_url}}" class="card-img-top" alt="Coffee shop">
    <div class="card-body">
      <h4 class="card-title">{{ selected_coffee.name }}</h4>
      <p class="card-text"><a href="{{selected_coffee.map_url}}">@{{ selected_coffee.location }}</a></h1></p>
    </div>
  </div>
  

  <hr class="my-4" />



  <h2 class="pt-3 pb-2 border-bottom"> {{ selected_coffee.name }} Features</h2>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 py-5">

    
    <div class="col d-flex align-items-start">
      
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
        <path d="M11 2H9v3h2V2Z"/>
        <path d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0ZM1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5Zm3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4v4.5ZM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5V15Z"/></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Has Sockets?</h3>
        <p>{{ selected_coffee.has_sockets }}.</p>
      </div>
    </div>

    
    <div class="col d-flex align-items-start">
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-symmetry-vertical" viewBox="0 0 16 16">
        <path d="M7 2.5a.5.5 0 0 0-.939-.24l-6 11A.5.5 0 0 0 .5 14h6a.5.5 0 0 0 .5-.5v-11zm2.376-.484a.5.5 0 0 1 .563.245l6 11A.5.5 0 0 1 15.5 14h-6a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .376-.484zM10 4.46V13h4.658L10 4.46z"/></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Has Toilet?</h3>
        <p>{{ selected_coffee.has_toilet }}</p>
      </div>
    </div>

    


    <div class="col d-flex align-items-start">
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-wifi" viewBox="0 0 16 16">
        <path d="M15.384 6.115a.485.485 0 0 0-.047-.736A12.444 12.444 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049z"/>
        <path d="M13.229 8.271a.482.482 0 0 0-.063-.745A9.455 9.455 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.473 6.473 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091l.016-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z"/></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Has Wifi?</h3>
        <p>{{ selected_coffee.has_wifi }}</p>
      </div>
    </div>




    <div class="col d-flex align-items-start">
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone" viewBox="0 0 16 16">
        <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">can take calls?</h3>
        <p>{{ selected_coffee.can_take_calls }}</p>
      </div>
    </div>


    <div class="col d-flex align-items-start">
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003 6.97 2.789ZM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461L10.404 2Z"/>></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Number Of Seats</h3>
        <p>{{ selected_coffee.seats }}</p>
      </div>
    </div>



    <div class="col d-flex align-items-start">
      <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-dollar" viewBox="0 0 16 16">
        <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>></svg>
      <div>
        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Coffee Price</h3>
        <p>{{ selected_coffee.coffee_price }}</p>
      </div>
    </div>

  </div>








  
    
     
       
        <!--Only show Edit and delete coffee Post button if user id is 1 (admin user) or if the user is who created the coffee's post -->

        {% if current_user.id == 1 or current_user.id==selected_coffee.author_id %}

        <div class="d-grid gap-2">
          <a href="{{url_for('edit_coffe_post', coffee_id=selected_coffee.id)}}" class="btn btn-outline-secondary " tabindex="-1" role="button" >Edit Post</a>
          <a  href="{{url_for('delete_coffee', coffee_id=selected_coffee.id) }}" class="btn btn-danger " tabindex="-1" role="button" >Delete Post</a>
        </div>
        
        {% endif %}

        <hr class="my-4" />

        
        




        <!-- the first field that shows the preoius comments on that coffee post !   -->
        <div class="comment">
          <h2 class="pb-2 border-bottom"> Reviews!</h2>
          <ul class="commentList">
            <!-- Show all comments -->
            {% for comment in selected_coffee.comments: %}
            <li>
              <div class="commenterImage">
                <!-- just creating an image according to the user email using gravatar ! -->
                <img src="{{ comment.comment_author.email | gravatar }}"/>
              </div>
              <div class="commentText">
                <!-- showing the content of the comments on that post !  -->
                {{comment.text|safe}}
                <!-- extracting the name of the comment author according to the logged in account and by relational databases -->
                <span class="sub-text">{{comment.comment_author.name}}</span>
              </div>
            </li>
            <hr class="my-4" />
            {% endfor %}
          </ul>
        </div> 

        




        <!-- creating a field for putting comments if the user wants to add a comment , then after  giving him samples about
        old reviews on that post ! -->

        <!-- Load the CKEditor -->
        {{ ckeditor.load() }}
        <!-- Configure it with the name of the form field from CommentForm -->
        {{ ckeditor.config(name='comment_text') }}
        <!-- Create the wtf quick form from CommentForm -->
        {{ render_form(form, novalidate=True, button_map={"submit": "primary"}) }}

        


      </div>
  
</article>

{% include "footer.html" %}
